# MindEase - å¿ƒç†å¥åº·å¹³å°

[![Spring Boot](https://img.shields.io/badge/Spring%20Boot-3.5.8-brightgreen.svg)](https://spring.io/projects/spring-boot)
[![Java](https://img.shields.io/badge/Java-21-orange.svg)](https://www.oracle.com/java/)
[![MyBatis](https://img.shields.io/badge/MyBatis-3.0.4-red.svg)](https://mybatis.org/mybatis-3/)
[![MySQL](https://img.shields.io/badge/MySQL-8.x-blue.svg)](https://www.mysql.com/)

MindEase æ˜¯ä¸€ä¸ªç»¼åˆæ€§çš„å¿ƒç†å¥åº·æœåŠ¡å¹³å°ï¼Œæä¾›å¿ƒç†å’¨è¯¢å¸ˆæ¨èã€åœ¨çº¿é¢„çº¦ã€å¿ƒç†æµ‹è¯„ã€æƒ…ç»ªæ—¥è®°ç­‰åŠŸèƒ½ï¼Œè‡´åŠ›äºä¸ºç”¨æˆ·æä¾›ä¸“ä¸šã€ä¾¿æ·çš„å¿ƒç†å¥åº·æœåŠ¡ã€‚

---

## ğŸ“‹ ç›®å½•

- [é¡¹ç›®ç®€ä»‹](#é¡¹ç›®ç®€ä»‹)
- [æ ¸å¿ƒåŠŸèƒ½](#æ ¸å¿ƒåŠŸèƒ½)
- [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ)
- [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [API æ¥å£æ–‡æ¡£](#api-æ¥å£æ–‡æ¡£)
- [æ•°æ®åº“è®¾è®¡](#æ•°æ®åº“è®¾è®¡)

---

## ğŸ¯ é¡¹ç›®ç®€ä»‹

MindEase å¹³å°é¢å‘ä¸‰ç±»ç”¨æˆ·ï¼š

- **æ™®é€šç”¨æˆ·**ï¼šå¯ä»¥è¿›è¡Œå¿ƒç†æµ‹è¯„ã€è®°å½•æƒ…ç»ªæ—¥è®°ã€é¢„çº¦å’¨è¯¢å¸ˆã€è·å–æ¨èæœåŠ¡
- **å’¨è¯¢å¸ˆ**ï¼šå¯ä»¥æäº¤èµ„è´¨å®¡æ ¸ã€è®¾ç½®æ’ç­ã€ç®¡ç†é¢„çº¦ã€æ¥æ”¶è¯„ä»·
- **ç®¡ç†å‘˜**ï¼šå¯ä»¥å®¡æ ¸å’¨è¯¢å¸ˆèµ„è´¨ã€ç®¡ç†é‡è¡¨é¢˜ç›®ã€ç›‘æ§ç³»ç»Ÿè¿è¡Œ

---

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### 1ï¸âƒ£ ç”¨æˆ·è®¤è¯ä¸ç®¡ç†
- âœ… ç”¨æˆ·æ³¨å†Œç™»å½•ï¼ˆæ”¯æŒæ™®é€šç”¨æˆ·ã€å’¨è¯¢å¸ˆè§’è‰²ï¼‰
- âœ… JWT Token é‰´æƒ
- âœ… ä¸ªäººä¿¡æ¯æŸ¥çœ‹ä¸æ›´æ–°
- âœ… ç”¨æˆ· Dashboard æ•°æ®å±•ç¤º
- âœ… ç³»ç»Ÿé€šçŸ¥ç®¡ç†

### 2ï¸âƒ£ å’¨è¯¢å¸ˆèµ„è´¨å®¡æ ¸
- âœ… å’¨è¯¢å¸ˆæäº¤èµ„è´¨ææ–™ï¼ˆè¯ä¹¦ã€èº«ä»½è¯ï¼‰
- âœ… ç®¡ç†å‘˜å®¡æ ¸æµç¨‹ï¼ˆé€šè¿‡/é©³å›ï¼‰
- âœ… å®¡æ ¸çŠ¶æ€æŸ¥è¯¢
- âœ… å®¡æ ¸è®°å½•ç®¡ç†

### 3ï¸âƒ£ æ™ºèƒ½æ¨èç³»ç»Ÿ
- âœ… åŸºäºç”¨æˆ·å¿ƒç†çŠ¶æ€æ™ºèƒ½æ¨èå’¨è¯¢å¸ˆ
- âœ… æ”¯æŒå…³é”®è¯æœç´¢ã€é¢†åŸŸç­›é€‰
- âœ… å¤šç§æ’åºæ–¹å¼ï¼ˆæ™ºèƒ½æ¨èã€ä»·æ ¼ã€è¯„åˆ†ï¼‰
- âœ… å’¨è¯¢å¸ˆè¯¦æƒ…å±•ç¤º
- âœ… æ¨èçŠ¶æ€æ£€æµ‹ï¼ˆæµ‹è¯„å®Œæˆåº¦ã€æƒ…ç»ªæ—¥å¿—ï¼‰

### 4ï¸âƒ£ é¢„çº¦ç®¡ç†
- âœ… å’¨è¯¢å¸ˆè®¾ç½®æ’ç­ï¼ˆå·¥ä½œæ—¥ã€å·¥ä½œæ—¶æ®µï¼‰
- âœ… æŸ¥è¯¢å’¨è¯¢å¸ˆå¯ç”¨æ—¶æ®µ
- âœ… ç”¨æˆ·åˆ›å»ºé¢„çº¦
- âœ… å’¨è¯¢å¸ˆç¡®è®¤/å–æ¶ˆé¢„çº¦
- âœ… é¢„çº¦åˆ—è¡¨æŸ¥è¯¢ï¼ˆæ”¯æŒçŠ¶æ€ç­›é€‰ï¼‰
- âœ… é¢„çº¦è¯¦æƒ…æŸ¥çœ‹

### 5ï¸âƒ£ å¿ƒç†æµ‹è¯„æ¨¡å—
- âœ… é‡è¡¨åˆ—è¡¨å±•ç¤ºï¼ˆGAD-7ã€PHQ-9 ç­‰ï¼‰
- âœ… é‡è¡¨è¯¦æƒ…ä¸é¢˜ç›®è·å–
- âœ… æµ‹è¯„ç­”æ¡ˆæäº¤ä¸è‡ªåŠ¨è¯„åˆ†
- âœ… æµ‹è¯„å†å²è®°å½•æŸ¥è¯¢
- âœ… æµ‹è¯„ç»“æœè¯¦æƒ…å±•ç¤º
- âœ… **ç®¡ç†å‘˜**ï¼šåˆ›å»º/æ›´æ–°é‡è¡¨é…ç½®
- âœ… **ç®¡ç†å‘˜**ï¼šç®¡ç†é‡è¡¨é¢˜ç›®ï¼ˆæ–°å¢ã€ä¿®æ”¹ã€åˆ é™¤ï¼‰

### 6ï¸âƒ£ è¯„ä»·ç³»ç»Ÿ
- âœ… ç”¨æˆ·æäº¤å’¨è¯¢è¯„ä»·
- âœ… å’¨è¯¢å¸ˆè¯„ä»·åˆ—è¡¨å±•ç¤º
- âœ… è¯„åˆ†ç»Ÿè®¡ä¸å±•ç¤º

---

## ğŸ›  æŠ€æœ¯æ ˆ

### åç«¯æ¡†æ¶
- **Spring Boot 3.5.8** - ä¸»æ¡†æ¶
- **MyBatis 3.0.4** - ORM æ¡†æ¶
- **MySQL 8.x** - æ•°æ®åº“
- **JWT 0.12.6** - Token é‰´æƒ
- **Knife4j 4.3.0** - API æ–‡æ¡£

### å¼€å‘å·¥å…·
- **Java 21** - ç¼–ç¨‹è¯­è¨€
- **Maven** - é¡¹ç›®ç®¡ç†
- **Lombok** - ä»£ç ç®€åŒ–
- **Jackson** - JSON å¤„ç†

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
mindease/
â”œâ”€â”€ src/main/java/com/mindease/
â”‚   â”œâ”€â”€ common/                          # å…¬å…±æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ constant/                    # å¸¸é‡å®šä¹‰
â”‚   â”‚   â”‚   â”œâ”€â”€ JwtClaimsConstant.java   # JWT å£°æ˜å¸¸é‡
â”‚   â”‚   â”‚   â”œâ”€â”€ MessageConstant.java     # æ¶ˆæ¯å¸¸é‡
â”‚   â”‚   â”‚   â””â”€â”€ StatusConstant.java      # çŠ¶æ€å¸¸é‡
â”‚   â”‚   â”œâ”€â”€ exception/                   # è‡ªå®šä¹‰å¼‚å¸¸
â”‚   â”‚   â”‚   â”œâ”€â”€ BaseException.java
â”‚   â”‚   â”‚   â”œâ”€â”€ AccountNotFoundException.java
â”‚   â”‚   â”‚   â”œâ”€â”€ PasswordErrorException.java
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ result/                      # ç»Ÿä¸€å“åº”ç»“æœ
â”‚   â”‚   â”‚   â””â”€â”€ Result.java
â”‚   â”‚   â””â”€â”€ utils/                       # å·¥å…·ç±»
â”‚   â”‚       â””â”€â”€ JwtUtil.java
â”‚   â”‚
â”‚   â”œâ”€â”€ config/                          # é…ç½®ç±»
â”‚   â”‚   â””â”€â”€ WebMvcConfiguration.java     # Web MVC é…ç½®
â”‚   â”‚
â”‚   â”œâ”€â”€ controller/                      # æ§åˆ¶å™¨å±‚
â”‚   â”‚   â”œâ”€â”€ admin/                       # ç®¡ç†å‘˜ç«¯æ§åˆ¶å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ AdminAssessmentController.java  # æµ‹è¯„ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ AdminAuditController.java       # å®¡æ ¸ç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ CommonController.java           # ç®¡ç†å‘˜ç™»å½•
â”‚   â”‚   â”œâ”€â”€ appointment/                 # é¢„çº¦æ§åˆ¶å™¨
â”‚   â”‚   â”‚   â””â”€â”€ AppointmentController.java
â”‚   â”‚   â”œâ”€â”€ assessment/                  # å¿ƒç†æµ‹è¯„æ§åˆ¶å™¨
â”‚   â”‚   â”‚   â””â”€â”€ AssessmentController.java
â”‚   â”‚   â”œâ”€â”€ auth/                        # è®¤è¯æ§åˆ¶å™¨
â”‚   â”‚   â”‚   â””â”€â”€ AuthController.java
â”‚   â”‚   â”œâ”€â”€ counselor/                   # å’¨è¯¢å¸ˆæ§åˆ¶å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ CounselorController.java       # å’¨è¯¢å¸ˆæ¨è
â”‚   â”‚   â”‚   â””â”€â”€ CounselorAuditController.java  # èµ„è´¨å®¡æ ¸
â”‚   â”‚   â””â”€â”€ user/                        # ç”¨æˆ·ä¸­å¿ƒæ§åˆ¶å™¨
â”‚   â”‚       â””â”€â”€ UserCenterController.java
â”‚   â”‚
â”‚   â”œâ”€â”€ handler/                         # å…¨å±€å¤„ç†å™¨
â”‚   â”‚   â””â”€â”€ GlobalExceptionHandler.java  # å…¨å±€å¼‚å¸¸å¤„ç†
â”‚   â”‚
â”‚   â”œâ”€â”€ interceptor/                     # æ‹¦æˆªå™¨
â”‚   â”‚   â””â”€â”€ JwtTokenInterceptor.java     # JWT Token æ‹¦æˆªå™¨
â”‚   â”‚
â”‚   â”œâ”€â”€ mapper/                          # MyBatis Mapper æ¥å£
â”‚   â”‚   â”œâ”€â”€ UserMapper.java
â”‚   â”‚   â”œâ”€â”€ CounselorProfileMapper.java
â”‚   â”‚   â”œâ”€â”€ CounselorAuditRecordMapper.java
â”‚   â”‚   â”œâ”€â”€ AppointmentMapper.java
â”‚   â”‚   â”œâ”€â”€ AssessmentScaleMapper.java
â”‚   â”‚   â”œâ”€â”€ AssessmentQuestionMapper.java
â”‚   â”‚   â”œâ”€â”€ AssessmentRecordMapper.java
â”‚   â”‚   â”œâ”€â”€ AssessmentAnswerMapper.java
â”‚   â”‚   â”œâ”€â”€ MoodLogMapper.java
â”‚   â”‚   â”œâ”€â”€ CounselorReviewMapper.java
â”‚   â”‚   â””â”€â”€ SysNotificationMapper.java
â”‚   â”‚
â”‚   â”œâ”€â”€ pojo/                            # å®ä½“ç±»
â”‚   â”‚   â”œâ”€â”€ dto/                         # æ•°æ®ä¼ è¾“å¯¹è±¡
â”‚   â”‚   â”‚   â”œâ”€â”€ UserLoginDTO.java
â”‚   â”‚   â”‚   â”œâ”€â”€ UserRegisterDTO.java
â”‚   â”‚   â”‚   â”œâ”€â”€ UserUpdateDTO.java
â”‚   â”‚   â”‚   â”œâ”€â”€ AuditSubmitDTO.java
â”‚   â”‚   â”‚   â”œâ”€â”€ AuditProcessDTO.java
â”‚   â”‚   â”‚   â”œâ”€â”€ AppointmentCreateDTO.java
â”‚   â”‚   â”‚   â”œâ”€â”€ AppointmentCancelDTO.java
â”‚   â”‚   â”‚   â”œâ”€â”€ ScheduleSetDTO.java
â”‚   â”‚   â”‚   â”œâ”€â”€ AssessmentSubmitDTO.java
â”‚   â”‚   â”‚   â”œâ”€â”€ ScaleSaveDTO.java
â”‚   â”‚   â”‚   â”œâ”€â”€ QuestionManageDTO.java
â”‚   â”‚   â”‚   â””â”€â”€ ReviewSubmitDTO.java
â”‚   â”‚   â”œâ”€â”€ entity/                      # æ•°æ®åº“å®ä½“
â”‚   â”‚   â”‚   â”œâ”€â”€ User.java
â”‚   â”‚   â”‚   â”œâ”€â”€ CounselorProfile.java
â”‚   â”‚   â”‚   â”œâ”€â”€ CounselorAuditRecord.java
â”‚   â”‚   â”‚   â”œâ”€â”€ Appointment.java
â”‚   â”‚   â”‚   â”œâ”€â”€ AssessmentScale.java
â”‚   â”‚   â”‚   â”œâ”€â”€ AssessmentQuestion.java
â”‚   â”‚   â”‚   â”œâ”€â”€ AssessmentRecord.java
â”‚   â”‚   â”‚   â”œâ”€â”€ AssessmentAnswer.java
â”‚   â”‚   â”‚   â”œâ”€â”€ MoodLog.java
â”‚   â”‚   â”‚   â”œâ”€â”€ CounselorReview.java
â”‚   â”‚   â”‚   â””â”€â”€ SysNotification.java
â”‚   â”‚   â””â”€â”€ vo/                          # è§†å›¾å¯¹è±¡
â”‚   â”‚       â”œâ”€â”€ UserLoginVO.java
â”‚   â”‚       â”œâ”€â”€ UserRegisterVO.java
â”‚   â”‚       â”œâ”€â”€ UserProfileVO.java
â”‚   â”‚       â”œâ”€â”€ DashboardVO.java
â”‚   â”‚       â”œâ”€â”€ NotificationListVO.java
â”‚   â”‚       â”œâ”€â”€ AuditStatusVO.java
â”‚   â”‚       â”œâ”€â”€ AuditListVO.java
â”‚   â”‚       â”œâ”€â”€ RecommendResultVO.java
â”‚   â”‚       â”œâ”€â”€ CounselorDetailVO.java
â”‚   â”‚       â”œâ”€â”€ AppointmentListVO.java
â”‚   â”‚       â”œâ”€â”€ AppointmentDetailVO.java
â”‚   â”‚       â”œâ”€â”€ ScaleListVO.java
â”‚   â”‚       â”œâ”€â”€ ScaleDetailVO.java
â”‚   â”‚       â”œâ”€â”€ AssessmentSubmitVO.java
â”‚   â”‚       â”œâ”€â”€ AssessmentRecordListVO.java
â”‚   â”‚       â””â”€â”€ ...
â”‚   â”‚
â”‚   â”œâ”€â”€ service/                         # æœåŠ¡æ¥å£
â”‚   â”‚   â”œâ”€â”€ UserService.java
â”‚   â”‚   â”œâ”€â”€ UserCenterService.java
â”‚   â”‚   â”œâ”€â”€ CounselorService.java
â”‚   â”‚   â”œâ”€â”€ CounselorAuditService.java
â”‚   â”‚   â”œâ”€â”€ AppointmentService.java
â”‚   â”‚   â”œâ”€â”€ AssessmentService.java
â”‚   â”‚   â””â”€â”€ impl/                        # æœåŠ¡å®ç°ç±»
â”‚   â”‚       â”œâ”€â”€ UserServiceImpl.java
â”‚   â”‚       â”œâ”€â”€ UserCenterServiceImpl.java
â”‚   â”‚       â”œâ”€â”€ CounselorServiceImpl.java
â”‚   â”‚       â”œâ”€â”€ CounselorAuditServiceImpl.java
â”‚   â”‚       â”œâ”€â”€ AppointmentServiceImpl.java
â”‚   â”‚       â””â”€â”€ AssessmentServiceImpl.java
â”‚   â”‚
â”‚   â””â”€â”€ MindeaseApplication.java         # å¯åŠ¨ç±»
â”‚
â”œâ”€â”€ src/main/resources/
â”‚   â”œâ”€â”€ application.yml                  # ä¸»é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ application-dev.yml              # å¼€å‘ç¯å¢ƒé…ç½®
â”‚   â””â”€â”€ mapper/                          # MyBatis XML æ˜ å°„æ–‡ä»¶
â”‚       â”œâ”€â”€ AppointmentMapper.xml
â”‚       â”œâ”€â”€ CounselorProfileMapper.xml
â”‚       â”œâ”€â”€ AssessmentQuestionMapper.xml
â”‚       â””â”€â”€ AssessmentAnswerMapper.xml
â”‚
â”œâ”€â”€ database.md                          # æ•°æ®åº“è®¾è®¡æ–‡æ¡£
â”œâ”€â”€ api.md                              # API æ¥å£æ–‡æ¡£
â”œâ”€â”€ pom.xml                             # Maven é…ç½®
â””â”€â”€ README.md                           # é¡¹ç›®è¯´æ˜æ–‡æ¡£
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒè¦æ±‚

- **JDK 21+**
- **Maven 3.6+**
- **MySQL 8.0+**

### 2. å…‹éš†é¡¹ç›®

```bash
git clone <repository-url>
cd mindease
```

### 3. é…ç½®æ•°æ®åº“

1. åˆ›å»ºæ•°æ®åº“ï¼š
```sql
CREATE DATABASE mindease CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```

2. æ‰§è¡Œæ•°æ®åº“è„šæœ¬ï¼ˆå‚è€ƒ `database.md` æ–‡ä»¶ï¼‰

3. ä¿®æ”¹é…ç½®æ–‡ä»¶ `src/main/resources/application-dev.yml`ï¼š
```yaml
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/mindease?useUnicode=true&characterEncoding=utf-8
    username: your_username
    password: your_password
```

### 4. é…ç½® JWT å¯†é’¥

åœ¨ `application-dev.yml` ä¸­é…ç½®ï¼š
```yaml
mindease:
  jwt:
    secret-key: your-secret-key
    ttl: 86400000  # 24å°æ—¶
```

### 5. å¯åŠ¨é¡¹ç›®

```bash
# ä½¿ç”¨ Maven ç¼–è¯‘
mvn clean compile

# å¯åŠ¨åº”ç”¨
mvn spring-boot:run
```

### 6. è®¿é—®åº”ç”¨

- **åº”ç”¨åœ°å€**ï¼šhttp://localhost:8080
- **API æ–‡æ¡£**ï¼šhttp://localhost:8080/doc.html (Knife4j)

---

## ğŸ“š API æ¥å£æ–‡æ¡£

### 1ï¸âƒ£ è®¤è¯æ¨¡å— (`/auth`)

| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ | é‰´æƒ |
|------|------|------|------|
| POST | `/auth/register` | ç”¨æˆ·æ³¨å†Œ | âŒ |
| POST | `/auth/login` | ç”¨æˆ·ç™»å½• | âŒ |
| GET | `/auth/profile` | è·å–ä¸ªäººä¿¡æ¯ | âœ… |
| PUT | `/auth/profile` | æ›´æ–°ä¸ªäººä¿¡æ¯ | âœ… |

#### æ³¨å†Œç¤ºä¾‹
```json
POST /auth/register
{
  "username": "user123",
  "password": "password123",
  "nickname": "å°æ˜",
  "phone": "13800138000",
  "role": "user"  // user: æ™®é€šç”¨æˆ·, counselor: å’¨è¯¢å¸ˆ
}
```

#### ç™»å½•ç¤ºä¾‹
```json
POST /auth/login
{
  "username": "user123",
  "password": "password123"
}

// å“åº”
{
  "code": 200,
  "message": "success",
  "data": {
    "userId": 1,
    "username": "user123",
    "nickname": "å°æ˜",
    "role": "USER",
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
  }
}
```

---

### 2ï¸âƒ£ ç”¨æˆ·ä¸­å¿ƒæ¨¡å— (`/user`)

| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ | é‰´æƒ |
|------|------|------|------|
| GET | `/user/dashboard` | è·å– Dashboard æ•°æ® | âœ… |
| GET | `/user/notifications` | è·å–é€šçŸ¥åˆ—è¡¨ | âœ… |
| PUT | `/user/notification/{id}/read` | æ ‡è®°é€šçŸ¥å·²è¯» | âœ… |

---

### 3ï¸âƒ£ å’¨è¯¢å¸ˆèµ„è´¨å®¡æ ¸æ¨¡å— (`/counselor/audit`)

| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ | é‰´æƒ |
|------|------|------|------|
| POST | `/counselor/audit/submit` | æäº¤èµ„è´¨å®¡æ ¸ | âœ… |
| GET | `/counselor/audit/status` | è·å–å®¡æ ¸çŠ¶æ€ | âœ… |

#### æäº¤å®¡æ ¸ç¤ºä¾‹
```json
POST /counselor/audit/submit
{
  "realName": "å¼ åŒ»ç”Ÿ",
  "qualificationUrl": "https://example.com/cert.jpg",
  "idCardUrl": "https://example.com/id.jpg"
}
```

---

### 4ï¸âƒ£ å’¨è¯¢å¸ˆæ¨èæ¨¡å— (`/counselor`)

| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ | é‰´æƒ |
|------|------|------|------|
| GET | `/counselor/recommend/status` | æ£€æŸ¥æ¨èçŠ¶æ€ | âœ… |
| GET | `/counselor/recommend` | æ™ºèƒ½æ¨èå’¨è¯¢å¸ˆ | âœ… |
| GET | `/counselor/{id}` | è·å–å’¨è¯¢å¸ˆè¯¦æƒ… | âŒ |
| GET | `/counselor/{id}/reviews` | è·å–å’¨è¯¢å¸ˆè¯„ä»· | âŒ |
| POST | `/counselor/review` | æäº¤è¯„ä»· | âœ… |

#### æ¨èå’¨è¯¢å¸ˆç¤ºä¾‹
```json
GET /counselor/recommend?keyword=ç„¦è™‘&filterSpecialty=ç„¦è™‘ç—‡&sort=smart

// å“åº”
{
  "code": 200,
  "data": {
    "counselors": [
      {
        "userId": 10,
        "realName": "æåŒ»ç”Ÿ",
        "title": "èµ„æ·±å¿ƒç†å’¨è¯¢å¸ˆ",
        "specialty": ["ç„¦è™‘ç—‡", "æŠ‘éƒç—‡"],
        "pricePerHour": 300.00,
        "rating": 4.8,
        "matchScore": 95
      }
    ],
    "recommendContext": {
      "primaryMood": "ç„¦è™‘",
      "moodScore": 7,
      "moodCount": 10
    }
  }
}
```

---

### 5ï¸âƒ£ é¢„çº¦ç®¡ç†æ¨¡å— (`/appointment`)

| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ | é‰´æƒ |
|------|------|------|------|
| POST | `/appointment/schedule` | è®¾ç½®æ’ç­ï¼ˆå’¨è¯¢å¸ˆï¼‰ | âœ… |
| GET | `/appointment/available-slots` | æŸ¥è¯¢å¯ç”¨æ—¶æ®µ | âŒ |
| POST | `/appointment/create` | åˆ›å»ºé¢„çº¦ | âœ… |
| GET | `/appointment/my-appointments` | è·å–é¢„çº¦åˆ—è¡¨ | âœ… |
| GET | `/appointment/{id}` | è·å–é¢„çº¦è¯¦æƒ… | âœ… |
| PUT | `/appointment/{id}/cancel` | å–æ¶ˆé¢„çº¦ | âœ… |
| PUT | `/appointment/{id}/confirm` | ç¡®è®¤é¢„çº¦ï¼ˆå’¨è¯¢å¸ˆï¼‰ | âœ… |

#### è®¾ç½®æ’ç­ç¤ºä¾‹
```json
POST /appointment/schedule
{
  "workDays": [1, 2, 3, 4, 5],  // å‘¨ä¸€åˆ°å‘¨äº”
  "workHours": [
    { "start": "09:00", "end": "12:00" },
    { "start": "14:00", "end": "18:00" }
  ]
}
```

#### åˆ›å»ºé¢„çº¦ç¤ºä¾‹
```json
POST /appointment/create
{
  "counselorId": 10,
  "startTime": "2025-12-15 10:00:00",
  "endTime": "2025-12-15 11:00:00",
  "userNote": "æˆ‘æœ€è¿‘æ„Ÿåˆ°ç„¦è™‘"
}
```

---

### 6ï¸âƒ£ å¿ƒç†æµ‹è¯„æ¨¡å— (`/assessment`)

| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ | é‰´æƒ |
|------|------|------|------|
| GET | `/assessment/scales` | è·å–é‡è¡¨åˆ—è¡¨ | âŒ |
| GET | `/assessment/scale/{scaleKey}` | è·å–é‡è¡¨è¯¦æƒ… | âŒ |
| POST | `/assessment/submit` | æäº¤æµ‹è¯„ | âœ… |
| GET | `/assessment/records` | è·å–æµ‹è¯„å†å² | âœ… |
| GET | `/assessment/record/{id}` | è·å–æµ‹è¯„è¯¦æƒ… | âœ… |

#### è·å–é‡è¡¨åˆ—è¡¨ç¤ºä¾‹
```json
GET /assessment/scales

// å“åº”
{
  "code": 200,
  "data": {
    "scales": [
      {
        "id": 1,
        "scaleKey": "gad-7",
        "title": "GAD-7 ç„¦è™‘ç—‡ç­›æŸ¥é‡è¡¨",
        "coverUrl": "https://example.com/gad7.jpg",
        "description": "ç”¨äºè¯„ä¼°ç„¦è™‘ç¨‹åº¦",
        "status": "active"
      }
    ]
  }
}
```

#### æäº¤æµ‹è¯„ç¤ºä¾‹
```json
POST /assessment/submit
{
  "scaleKey": "gad-7",
  "answers": [
    { "questionId": 1, "score": 2 },
    { "questionId": 2, "score": 1 },
    { "questionId": 3, "score": 3 }
  ]
}

// å“åº”
{
  "code": 200,
  "data": {
    "recordId": 8001,
    "totalScore": 12,
    "resultLevel": "ä¸­åº¦ç„¦è™‘",
    "resultDesc": "å»ºè®®å¯»æ±‚å¿ƒç†å’¨è¯¢å¸ˆå¸®åŠ©"
  }
}
```

---

### 7ï¸âƒ£ ç®¡ç†å‘˜æ¨¡å—

#### å®¡æ ¸ç®¡ç† (`/admin/audit`)

| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ | é‰´æƒ |
|------|------|------|------|
| GET | `/admin/audit/list` | è·å–å¾…å®¡æ ¸åˆ—è¡¨ | âœ… Admin |
| POST | `/admin/audit/process` | å®¡æ ¸æ“ä½œï¼ˆé€šè¿‡/é©³å›ï¼‰ | âœ… Admin |

#### å®¡æ ¸æ“ä½œç¤ºä¾‹
```json
POST /admin/audit/process
{
  "auditId": 5,
  "action": "APPROVED",  // APPROVED: é€šè¿‡, REJECTED: é©³å›
  "remark": "èµ„è´¨ç¬¦åˆè¦æ±‚"
}
```

#### æµ‹è¯„ç®¡ç† (`/admin/assessment`)

| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ | é‰´æƒ |
|------|------|------|------|
| POST | `/admin/assessment/scale` | åˆ›å»º/æ›´æ–°é‡è¡¨ | âœ… Admin |
| POST | `/admin/assessment/question` | ç®¡ç†é‡è¡¨é¢˜ç›® | âœ… Admin |

#### åˆ›å»ºé‡è¡¨ç¤ºä¾‹
```json
POST /admin/assessment/scale
{
  "scaleKey": "gad-7",
  "title": "GAD-7 ç„¦è™‘ç—‡ç­›æŸ¥é‡è¡¨",
  "coverUrl": "https://example.com/gad7.jpg",
  "description": "æœ¬é‡è¡¨ç”¨äºè¯„ä¼°ç„¦è™‘ç¨‹åº¦",
  "status": "active",
  "scoringRules": [
    { "min": 0, "max": 4, "level": "æ²¡æœ‰ç„¦è™‘", "desc": "æƒ…ç»ªçŠ¶æ€è‰¯å¥½" },
    { "min": 5, "max": 9, "level": "è½»åº¦ç„¦è™‘", "desc": "å»ºè®®é€‚å½“æ”¾æ¾" },
    { "min": 10, "max": 14, "level": "ä¸­åº¦ç„¦è™‘", "desc": "å»ºè®®å¯»æ±‚å’¨è¯¢" },
    { "min": 15, "max": 21, "level": "é‡åº¦ç„¦è™‘", "desc": "å¼ºçƒˆå»ºè®®å°±è¯Š" }
  ]
}

// å“åº”
{
  "code": 200,
  "message": "é‡è¡¨åˆ›å»ºæˆåŠŸ",
  "data": {
    "scaleId": 1,
    "isUpdate": false
  }
}
```

#### ç®¡ç†é¢˜ç›®ç¤ºä¾‹
```json
POST /admin/assessment/question
{
  "scaleKey": "gad-7",
  "questions": [
    {
      "id": 1,
      "deleted": true  // åˆ é™¤é¢˜ç›®
    },
    {
      "id": 2,
      "questionText": "æ›´æ–°çš„é¢˜ç›®å†…å®¹",
      "sortOrder": 1,
      "options": [
        { "label": "å®Œå…¨æ²¡æœ‰", "score": 0 },
        { "label": "æœ‰å‡ å¤©", "score": 1 }
      ]
    },
    {
      "questionText": "æ–°é¢˜ç›®å†…å®¹",
      "sortOrder": 2,
      "options": [...]
    }
  ]
}

// å“åº”
{
  "code": 200,
  "message": "é¢˜ç›®ä¿å­˜æˆåŠŸ",
  "data": {
    "success": true,
    "count": 2
  }
}
```

---

## ğŸ—„ï¸ æ•°æ®åº“è®¾è®¡

### æ ¸å¿ƒæ•°æ®è¡¨

| è¡¨å | è¯´æ˜ |
|------|------|
| `sys_user` | ç³»ç»Ÿç”¨æˆ·è¡¨ï¼ˆå­˜å‚¨æ‰€æœ‰è§’è‰²ç”¨æˆ·ï¼‰ |
| `counselor_profile` | å’¨è¯¢å¸ˆå…¬å¼€èµ„æ–™è¡¨ |
| `counselor_audit_record` | å’¨è¯¢å¸ˆèµ„è´¨å®¡æ ¸è®°å½•è¡¨ |
| `appointment` | é¢„çº¦è®¢å•è¡¨ |
| `counselor_review` | å’¨è¯¢è¯„ä»·è¡¨ |
| `assessment_scale` | é‡è¡¨å®šä¹‰è¡¨ |
| `assessment_question` | é‡è¡¨é¢˜ç›®è¡¨ |
| `assessment_record` | æµ‹è¯„è®°å½•è¡¨ |
| `assessment_answer` | æµ‹è¯„ç­”æ¡ˆè¯¦æƒ…è¡¨ |
| `mood_log` | æƒ…ç»ªæ—¥è®°è¡¨ |
| `sys_notification` | ç³»ç»Ÿé€šçŸ¥è¡¨ |

è¯¦ç»†çš„æ•°æ®åº“è®¾è®¡è¯·æŸ¥çœ‹ `database.md` æ–‡ä»¶ã€‚

---

## ğŸ” å®‰å…¨è¯´æ˜

### JWT Token ä½¿ç”¨

æ‰€æœ‰éœ€è¦é‰´æƒçš„æ¥å£éƒ½éœ€è¦åœ¨è¯·æ±‚å¤´ä¸­æºå¸¦ Tokenï¼š

```
Headers:
  token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

### æ‹¦æˆªå™¨é…ç½®

```java
// éœ€è¦ Token çš„è·¯å¾„
/auth/profile
/counselor/**
/appointment/**
/user/**
/admin/**
/assessment/submit
/assessment/records
/assessment/record/**

// ä¸éœ€è¦ Token çš„è·¯å¾„ï¼ˆå…¬å¼€æ¥å£ï¼‰
/auth/register
/auth/login
/appointment/available-slots
/assessment/scales
/assessment/scale/**
/counselor/{id}
/counselor/{id}/reviews
```

---

## ğŸ“ å¼€å‘è§„èŒƒ

### 1. ç»Ÿä¸€å“åº”æ ¼å¼

æ‰€æœ‰æ¥å£è¿”å›ç»Ÿä¸€ä½¿ç”¨ `Result<T>` åŒ…è£…ï¼š

```json
{
  "code": 200,
  "message": "success",
  "data": { ... }
}
```

### 2. å¼‚å¸¸å¤„ç†

ä½¿ç”¨å…¨å±€å¼‚å¸¸å¤„ç†å™¨ `GlobalExceptionHandler` ç»Ÿä¸€å¤„ç†å¼‚å¸¸ã€‚

### 3. å¯†ç åŠ å¯†

ä½¿ç”¨ MD5 å¯¹ç”¨æˆ·å¯†ç è¿›è¡ŒåŠ å¯†ï¼ˆ32ä½å°å†™åå…­è¿›åˆ¶ï¼‰ã€‚

> âš ï¸ **å®‰å…¨å»ºè®®**ï¼šç”Ÿäº§ç¯å¢ƒå»ºè®®ä½¿ç”¨ BCrypt æˆ– Argon2 ç­‰æ›´å®‰å…¨çš„åŠ å¯†ç®—æ³•ã€‚

---

## ğŸ“ˆ é¡¹ç›®ç‰¹è‰²

### 1. æ™ºèƒ½æ¨èç®—æ³•
åŸºäºç”¨æˆ·çš„æƒ…ç»ªæ—¥è®°å’Œå¿ƒç†æµ‹è¯„ç»“æœï¼Œæ™ºèƒ½åŒ¹é…æœ€é€‚åˆçš„å’¨è¯¢å¸ˆã€‚

### 2. çµæ´»çš„æ’ç­ç³»ç»Ÿ
å’¨è¯¢å¸ˆå¯ä»¥è‡ªå®šä¹‰å·¥ä½œæ—¥å’Œå·¥ä½œæ—¶æ®µï¼Œç³»ç»Ÿè‡ªåŠ¨è®¡ç®—å¯ç”¨æ—¶æ®µã€‚

### 3. å®Œæ•´çš„å®¡æ ¸æµç¨‹
å’¨è¯¢å¸ˆèµ„è´¨å®¡æ ¸æ”¯æŒæäº¤ã€å®¡æ ¸ã€é©³å›ã€é‡æ–°æäº¤çš„å®Œæ•´æµç¨‹ã€‚

### 4. å¯æ‰©å±•çš„æµ‹è¯„ç³»ç»Ÿ
- æ”¯æŒåŠ¨æ€åˆ›å»ºé‡è¡¨å’Œé¢˜ç›®
- çµæ´»çš„è¯„åˆ†è§„åˆ™é…ç½®
- å®Œæ•´çš„æµ‹è¯„è®°å½•è¿½æº¯

### 5. å®æ—¶é€šçŸ¥ç³»ç»Ÿ
é‡è¦æ“ä½œï¼ˆå®¡æ ¸ç»“æœã€é¢„çº¦ç¡®è®¤ç­‰ï¼‰ä¼šè‡ªåŠ¨å‘é€ç³»ç»Ÿé€šçŸ¥ã€‚

---

## ğŸ¯ åç»­è§„åˆ’

- [ ] å®ç°æƒ…ç»ªæ—¥è®°æ¨¡å—
- [ ] é›†æˆ AI å’¨è¯¢åŠŸèƒ½
- [ ] æ·»åŠ æ”¯ä»˜åŠŸèƒ½
- [ ] å®ç°å®æ—¶èŠå¤©åŠŸèƒ½
- [ ] æ·»åŠ æ•°æ®ç»Ÿè®¡ä¸æŠ¥è¡¨
- [ ] å®Œå–„å•å…ƒæµ‹è¯•
- [ ] æ·»åŠ  Redis ç¼“å­˜
- [ ] å®ç°æ–‡ä»¶ä¸Šä¼ ï¼ˆOSSï¼‰

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ äº¤æµä½¿ç”¨ã€‚

---

## ğŸ‘¥ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿æ Issue æˆ– PRã€‚

---

**MindEase Team** Â© 2025

